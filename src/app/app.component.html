<!-- Title Bar -->
<header class="header">
  <h1>Markdown Previewer</h1>
</header>

<!-- Main Layout -->
<div class="container">
  <div class="editor-section">
    <!-- Toolbar -->
    <div class="toolbar">
      <!-- Formatting -->
      <button class="toolbar-btn" (click)="insertHeading()">H</button>
      <button class="toolbar-btn" (click)="insertBold()">B</button>
      <button class="toolbar-btn" (click)="insertItalic()">I</button>
      <button class="toolbar-btn" (click)="insertQuote()">❝</button>
      <button class="toolbar-btn" (click)="insertCode()">`</button>

      <!-- Structure -->
      <button class="toolbar-btn" (click)="insertLink()">🔗</button>
      <button class="toolbar-btn" (click)="insertImage()">🖼️</button>
      <button class="toolbar-btn" (click)="insertList()">•</button>
      <button class="toolbar-btn" (click)="insertNumberedList()">1.</button>
      <button class="toolbar-btn" (click)="insertLine()">―</button>
      <button class="toolbar-btn" (click)="insertNewLine()">↵</button>

      <!-- Alignment -->
      <button class="toolbar-btn" (click)="alignLeft()">⬅️</button>
      <button class="toolbar-btn" (click)="alignCenter()">⏺</button>
      <button class="toolbar-btn" (click)="alignRight()">➡️</button>
    </div>

    <textarea
      [(ngModel)]="markdownText"
      placeholder="Write your Markdown here..."
    ></textarea>
    <!-- Word & Character Count -->
    <div class="text-count">
      {{ wordCount }} words · {{ charCount }} characters
    </div>
    <button class="clear-btn" (click)="clearMarkdown()">Clear</button>
    <button class="download-btn" (click)="downloadPDF()">
      Download as .pdf
    </button>
  </div>

  <!-- HTML Preview -->
  <div class="preview-wrapper">
    <div class="preview" [innerHTML]="convertedHtml"></div>
  </div>
</div>

<!-- Global Footer -->
<footer class="app-footer">
  <div class="footer-content">
    <span>© 2025 CodingWithWaqar</span>
    <span> | </span>
    <span>All Right Reserved</span>
  </div>
</footer>

<!-- Floating Vertical Toggle with Icons Above & Below -->
<div class="theme-toggle-wrapper">
  <div class="theme-icon">☀️</div>

  <label class="theme-toggle-vertical">
    <input type="checkbox" [checked]="isDarkMode" (change)="toggleTheme()" />
    <span class="toggle-slider"></span>
  </label>

  <div class="theme-icon">🌙</div>
</div>

<!-- Hidden printable version for PDF -->
<div id="pdf-content" style="display: none">
  <div class="pdf-header">
    <h2>Markdown Preview</h2>
  </div>

  <div class="pdf-body" [innerHTML]="convertedHtml"></div>

  <div class="pdf-footer">
    <p>Generated by CodingWithWaqar · {{ currentDate }}</p>
  </div>
</div>
